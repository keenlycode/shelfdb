<!DOCTYPE html>
<html>
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36104934-9"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-36104934-9');
</script>    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon-svg" theme="adwaita" href="/shelfdb/static/lib/bits-ui/icon/adwaita.svg">
    <link rel="stylesheet" href="/shelfdb/static/lib/bits-ui/normalize.css?v=1">
    <link rel="stylesheet" href="/shelfdb/static/bits-ui/bits-ui.css?v=1">
    <link rel="stylesheet" href="/shelfdb/static/lib/prismjs/themes/prism-okaidia.css?v=1">
    <link rel="stylesheet" href="/shelfdb/base.css?v=1">
    <style>
        @font-face {
            /* Set UI font, Cantarell is recommended */
            font-family: bits-ui;
            src: url('/shelfdb/static/lib/bits-ui/font/Cantarell/Cantarell-Regular.ttf?v=1');
        }
    </style>
    <script defer src="/shelfdb/static/lib/bits-ui/bits-ui.js?v=1"></script>
    <script defer src="/shelfdb/static/lib/prismjs/prism.js?v=1"></script>
    <script defer src="/shelfdb/static/lib/prismjs/components/prism-bash.min.js?v=1"></script>
    <script defer src="/shelfdb/static/lib/prismjs/components/prism-python.min.js?v=1"></script>
<link rel="stylesheet" href="/shelfdb/guide/server/index.css?v=1">
</head>
<body>
<link rel="stylesheet" href="/shelfdb/include/sidebar/sidebar.css?v=1">
<script src="/shelfdb/include/sidebar/sidebar.js?v=1"></script>
<span id="sidebar-button" class="bits-button-pin">
    <bits-icon theme="adwaita" name="open-menu"></bits-icon>
</span>

<bits-sidebar show="1000px">
    <div el="wrapper">
        <!-- Sidebar contents -->
        <div el="title">
            <a el="home" href="/shelfdb/">
                <bits-icon theme="adwaita" name="go-home"></bits-icon>
            </a>
            <a el="name" href="/shelfdb/guide/"><h2>Guide</h2></a>
            <a el="close">
                <bits-icon theme="adwaita" name="window-close"></bits-icon>
            </a>
        </div>
        <div el="content">
            <a href="/shelfdb/guide/"><strong>Install</strong></a>
            <a href="/shelfdb/guide/server/"><strong>Database Server</strong></a>
            <a href="/shelfdb/guide/query/"><strong>Query</strong></a>
        </div>
    </div>
    <div el="overlay"></div>
</bits-sidebar><div class="block">
<h1 class="color-p" style="text-align: center;">Database Server</h1>
<p><strong>Shelf DB</strong> server is built on <strong>Python</strong> asyncio server to handle concurrent
requests. It also implements <strong>uvloop</strong> to speed up concurrency if it runs
on <strong>Linux</strong> platform.</p>
<h2>Shelf DB Server</h2>
<p>Use command-line <code>shelfdb</code> to start <strong>Shelf DB</strong> server.</p>
<pre><code class="language-shell">$ shelfdb  # Run server
Serving on ('127.0.0.1', 17000)
Database : db
pid : 11138
</code></pre>
<pre><code class="language-shell">$ shelfdb --help  # See help.
usage: shelfdb [-h] [--host [HOST]] [--port [PORT]] [--db [DB]]

ShelfDB Asyncio Server

optional arguments:
  -h, --help     show this help message and exit
  --host [HOST]  server host ip. (default: '127.0.0.1')
  --port [PORT]  server port. (default: 17000)
  --db [DB]      server database directory. (default: 'db')
</code></pre>
<p><strong>Shelf DB</strong> will create database directory name <code>db</code> if it's not existed and
use it to store shelf files. Unlike <strong>tables</strong> in <strong>SQL</strong> database,
<strong>shelf files</strong> will be created on the fly if needed when recieve query from
client. There's no need to create and define shema for <strong>shelf files</strong> before
using them.</p>
<h2>Example</h2>
<p>After running <strong>Shelf DB</strong> server (default optinal arguments).
Directory named <code>db</code> will be created.</p>
<pre><code class="language-shell"># in new terminal.
$ tree db
db

0 directories, 0 files
</code></pre>
<p>Let's query something from database. Create file named <code>query.py</code>
and write the code below which ask for all entries store in
<bits-tag>shelf: note</bits-tag></p>
<pre><code class="language-python"># query.py
import shelfquery
db = shelfquery.db()
db.shelf('note').run()
</code></pre>
<p>Then run the script.</p>
<pre><code class="language-shell">$ python query.py
[]
</code></pre>
<p><strong>Shelf DB</strong> server has created database directory <code>db</code> and return empty
<code>list</code>. Let's check directory <code>db</code> again.</p>
<pre><code class="language-shell">$ tree db
db
└── note

0 directories, 1 file
</code></pre>
<p>Next, we can learn how to to store and get entries from database.</p>
<p><a class="button" href="/shelfdb/guide/query/">Next: Query</a></p>

</div>
</body>
</html>